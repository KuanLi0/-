
#用户级线程切换

##yieid

当两个用户级线程公用一个栈时，会产生混乱，导致执行顺序出现错误。

![一个栈](图片库/一个栈.png)

在切换时，在TCB中存储当前指针

![两个栈处理用户级线程切换](图片库/两个栈.png)

##ThreadCreate

![ThreadCreate](图片库/ThreadCreate.png)

##内核级线程

从两个栈到两套栈。
![线程切换](图片库/线程切换.jpg)